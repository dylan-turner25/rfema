<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access the openFEMA API • rfema</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Access the openFEMA API">
<meta property="og:description" content="`rfema` allows users to access The Federal Emergency Management Agencys (FEMA) publicly available data through their API. The package provides a set of functions to easily navigate and access data from the National Flood Insurance Program along with FEMAs various disaster aid programs, including the Hazard Mitigation Grant Program, the Public Assistance Grant Program, and the Individual Assistance Grant Program.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rfema</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/getting_started.html">rfema: Getting Started</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dylan-turner25/rfema/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<ul>
<li><a href="#rfema-r-fema">rfema (R FEMA)</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#why-rfema">Why rfema?</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
</ul>
<div id="rfema-r-fema" class="section level2">
<h2 class="hasAnchor">
<a href="#rfema-r-fema" class="anchor"></a>rfema (R FEMA)</h2>

<!-- badges: start -->
<!-- [![R-CMD-check](https://github.com/dylan-turner25/rfema/workflows/R-CMD-check/badge.svg)](https://github.com/dylan-turner25/rfema/actions) -->
<!-- badges: end -->
</div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>rfema</code> allows users to access The Federal Emergency Management Agency’s (FEMA) publicly available data through the open FEMA API. The package provides a set of functions to easily navigate and access all data sets provided by FEMA, including (but not limited to) data from the National Flood Insurance Program and FEMA’s various disaster aid programs.</p>
<p>FEMA data is publicly available at the open FEMA website (<a href="https://www.fema.gov/about/openfema/data-sets" class="uri">https://www.fema.gov/about/openfema/data-sets</a>) and is avaliable for bulk download, however, the files are sometimes very large (multiple gigabytes) and many times users do not need all records for a data series (for example: many users may only want records for a single state for several years). Using FEMA’s API is a good option to circumvent working with the bulk data files, but can be inaccessible for those without prior API experience. This package contains a set of functions that allows users to easily identify and retrieve data from FEMA’s API without needing any technical knowledge of APIs.</p>
<p>In accordance with the Open Fema terms and conditions: This product uses the Federal Emergency Management Agency’s Open FEMA API, but is not endorsed by FEMA. The Federal Government or FEMA cannot vouch for the data or analyses derived from these data after the data have been retrieved from the Agency’s website(s). Guidance on FEMA’s preferred citation for Open FEMA data can be found at: <a href="https://www.fema.gov/about/openfema/terms-conditions" class="uri">https://www.fema.gov/about/openfema/terms-conditions</a></p>
</div>
<div id="why-rfema" class="section level2">
<h2 class="hasAnchor">
<a href="#why-rfema" class="anchor"></a>Why rfema?</h2>
<p>What are the advantages of accessing the FEMA API through the <code>rfema</code> package as compared to accessing the API directly? In short, the <code>rfema</code> package handles much of the grunt work associated with constructing API queries, dealing with API limits, and applying filters or other parameters. Suppose one wants to obtain data on all of the flood insurance claims in Broward County, FL between 2010 and 2012. The following code obtains that data without the use of the <code>rfema</code> package. As can be seen it requires quite a few lines of code, in part due to the API limiting calls to 1000 records per call which can make obtaining a full data set cumbersome.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define the url for the appropriate api end point</span>
<span class="va">base_url</span> <span class="op">&lt;-</span> <span class="st">"https://www.fema.gov/api/open/v1/FimaNfipClaims"</span>

<span class="co"># append the base_url to apply filters</span>
<span class="va">filters</span> <span class="op">&lt;-</span> <span class="st">"?$inlinecount=allpages&amp;$top=1000&amp;$filter=(countyCode%20eq%20'12011')%20and%20(yearOfLoss%20ge%20'2010')%20and%20(yearOfLoss%20le%20'2012')"</span>

<span class="va">api_query</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_url</span>, <span class="va">filters</span><span class="op">)</span>

<span class="co"># run a query setting the top_n parameter to 1 to check how many records match the filters</span>
<span class="va">record_check_query</span> <span class="op">&lt;-</span> <span class="st">"https://www.fema.gov/api/open/v1/FimaNfipClaims?$inlinecount=allpages&amp;$top=1&amp;$select=id&amp;$filter=(countyCode%20eq%20'12011')%20and%20(yearOfLoss%20ge%20'2010')%20and%20(yearOfLoss%20le%20'2012')"</span>

<span class="co"># run the api call and determine the number of matching records</span>
<span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/GET.html">GET</a></span><span class="op">(</span><span class="va">record_check_query</span><span class="op">)</span>
<span class="va">jsonData</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html">content</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span>        
<span class="va">n_records</span> <span class="op">&lt;-</span> <span class="va">jsonData</span><span class="op">$</span><span class="va">metadata</span><span class="op">$</span><span class="va">count</span> <span class="co"># there are 2119 records meaning we will need three seperate API calls to get all the data</span>


<span class="co"># calculate number of calls neccesary to get all records using the </span>
<span class="co"># 1000 records/ call max limit defined by FEMA</span>
<span class="va">itterations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="va">n_records</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">)</span>
  

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="va">itterations</span>, by<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># As above, if you have filters, specific fields, or are sorting, add that to the base URL </span>
  <span class="co">#   or make sure it gets concatenated here.</span>
  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/GET.html">GET</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">api_query</span>,<span class="st">"&amp;$skip="</span>,<span class="op">(</span><span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span>
  <span class="va">jsonData</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html">content</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span>         
  
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">{</span>
    <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">jsonData</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">jsonData</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span>
  


<span class="op">}</span>
 
  
<span class="co"># remove the html line breaks from returned data frame (if there are any)  </span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="st">""</span>, <span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Compare the above block of code to the following code which obtains the same data using the <code>rfema</code> package. The <code>rfema</code> package allows the same request to be made with two lines of code. Notably, the <code><a href="reference/open_fema.html">open_fema()</a></code> function handles checking the number of records and implements an iterative loop to deal with the 1000 records/call limit.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define a list of filters to apply</span>
<span class="va">filterList</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>countyCode <span class="op">=</span> <span class="st">"= 12011"</span>,yearOfLoss <span class="op">=</span> <span class="st">"&gt;= 2010"</span>, yearOfLoss <span class="op">=</span> <span class="st">"&lt;= 2012"</span><span class="op">)</span>

<span class="co"># make the API call using the `open_fema` function.</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">rfema</span><span class="fu">::</span><span class="fu"><a href="reference/open_fema.html">open_fema</a></span><span class="op">(</span>data_set <span class="op">=</span> <span class="st">"fimaNfipClaims"</span>,ask_before_call <span class="op">=</span> <span class="cn">F</span>, filters <span class="op">=</span> <span class="va">filterList</span> <span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 out of 3 itterations completedFALSE</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 out of 3 itterations completedFALSE</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 out of 3 itterations completedFALSE</span></span></code></pre></div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Right now, the best way to install and use the <code>rfema</code> package is by installing directly from GitHub using <code>devtools::install_github("dylan-turner25/rfema")</code>. The FEMA API does not require an API key, meaning no further steps need be taken to start using the package</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Use the <code><a href="reference/fema_data_sets.html">fema_data_sets()</a></code> function to obtain a data frame of available data sets along with associated meta data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_sets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fema_data_sets.html">fema_data_sets</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># truncate the description field for purposes of displaying the table</span>
<span class="va">data_sets</span><span class="op">$</span><span class="va">description</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data_sets</span><span class="op">$</span><span class="va">description</span>,<span class="fl">1</span>,<span class="fl">50</span><span class="op">)</span>,<span class="st">"..."</span><span class="op">)</span>

<span class="co"># view just the first three datasets</span>
<span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data_sets</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="0%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="5%">
<col width="1%">
<col width="1%">
<col width="5%">
<col width="1%">
<col width="1%">
<col width="5%">
<col width="1%">
<col width="1%">
<col width="5%">
<col width="5%">
<col width="3%">
<col width="1%">
<col width="2%">
<col width="0%">
<col width="1%">
<col width="0%">
<col width="2%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="1%">
<col width="0%">
<col width="0%">
<col width="1%">
<col width="0%">
<col width="1%">
<col width="0%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="0%">
<col width="2%">
<col width="1%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="1%">
<col width="1%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
<col width="0%">
</colgroup>
<thead><tr class="header">
<th align="left">identifier</th>
<th align="left">name</th>
<th align="left">title</th>
<th align="left">description</th>
<th align="left">distribution.accessURL</th>
<th align="left">distribution.format</th>
<th align="left">distribution.datasetSize</th>
<th align="left">distribution.accessURL.1</th>
<th align="left">distribution.format.1</th>
<th align="left">distribution.datasetSize.1</th>
<th align="left">distribution.accessURL.2</th>
<th align="left">distribution.format.2</th>
<th align="left">distribution.datasetSize.2</th>
<th align="left">webService</th>
<th align="left">dataDictionary</th>
<th align="left">keyword</th>
<th align="left">modified</th>
<th align="left">publisher</th>
<th align="left">contactPoint</th>
<th align="left">mbox</th>
<th align="left">accessLevel</th>
<th align="left">landingPage</th>
<th align="left">temporal</th>
<th align="left">api</th>
<th align="left">version</th>
<th align="left">bureauCode</th>
<th align="left">programCode</th>
<th align="left">accessLevelComment</th>
<th align="left">license</th>
<th align="left">spatial</th>
<th align="left">theme</th>
<th align="left">dataQuality</th>
<th align="left">accrualPeriodicity</th>
<th align="left">language</th>
<th align="left">primaryITInvestmentUII</th>
<th align="left">issued</th>
<th align="left">systemOfRecords</th>
<th align="left">deprecated</th>
<th align="left">hash</th>
<th align="left">lastRefresh</th>
<th align="left">recordCount</th>
<th align="left">depApiMessage</th>
<th align="left">depNewURL</th>
<th align="left">depWebMessage</th>
<th align="left">lastDataSetRefresh</th>
<th align="left">id</th>
<th align="left">accessUrl</th>
<th align="left">format</th>
<th align="left">depDate</th>
<th align="left">keyword1</th>
<th align="left">keyword2</th>
<th align="left">keyword3</th>
<th align="left">keyword4</th>
<th align="left">keyword5</th>
<th align="left">keyword6</th>
<th align="left">keyword7</th>
<th align="left">keyword8</th>
<th align="left">keyword9</th>
<th align="left">keyword10</th>
<th align="left">keyword11</th>
<th align="left">keyword12</th>
<th align="left">keyword13</th>
<th align="left">keyword14</th>
<th align="left">references</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">openfema-1</td>
<td align="left">PublicAssistanceFundedProjectsSummaries</td>
<td align="left">Public Assistance Funded Project Summaries</td>
<td align="left">FEMA provides supplemental Federal disaster grant …</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.csv" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.csv</a></td>
<td align="left">csv</td>
<td align="left">small (10MB - 50MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.json" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.json</a></td>
<td align="left">json</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.jsona" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.jsona</a></td>
<td align="left">jsona</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries</a></td>
<td align="left"><a href="https://www.fema.gov/openfema-data-page/public-assistance-funded-projects-summaries-v1" class="uri">https://www.fema.gov/openfema-data-page/public-assistance-funded-projects-summaries-v1</a></td>
<td align="left">public, assistance, disaster, grant, funding, sub-grantees</td>
<td align="left">2019-05-30T04:00:00.000Z</td>
<td align="left">Federal Emergency Management Agency</td>
<td align="left">OpenFEMA</td>
<td align="left"><a href="mailto:openfema@fema.gov" class="email">openfema@fema.gov</a></td>
<td align="left">public</td>
<td align="left"><a href="https://www.fema.gov/assistance/public" class="uri">https://www.fema.gov/assistance/public</a></td>
<td align="left">1980-02-01/</td>
<td align="left">TRUE</td>
<td align="left">1</td>
<td align="left">024:70</td>
<td align="left">024:039</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Public Assistance</td>
<td align="left">true</td>
<td align="left">R/P1D</td>
<td align="left">en-US</td>
<td align="left"></td>
<td align="left">2010-01-21T05:00:00.000Z</td>
<td align="left"></td>
<td align="left">FALSE</td>
<td align="left">bd507ed0181bba91866372a0a5d3c3e4</td>
<td align="left">2021-11-09T17:36:48.359Z</td>
<td align="left">171463</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2021-11-09T17:36:48.359Z</td>
<td align="left">5dd723598ca22d24d423eb6f</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">openfema-1</td>
<td align="left">PublicAssistanceFundedProjectsSummaries</td>
<td align="left">Public Assistance Funded Project Summaries</td>
<td align="left">FEMA provides supplemental Federal disaster grant …</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.csv" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.csv</a></td>
<td align="left">csv</td>
<td align="left">small (10MB - 50MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.json" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.json</a></td>
<td align="left">json</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.jsona" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries.jsona</a></td>
<td align="left">jsona</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries" class="uri">https://www.fema.gov/api/open/v1/PublicAssistanceFundedProjectsSummaries</a></td>
<td align="left"><a href="https://www.fema.gov/openfema-data-page/public-assistance-funded-projects-summaries-v1" class="uri">https://www.fema.gov/openfema-data-page/public-assistance-funded-projects-summaries-v1</a></td>
<td align="left">public, assistance, disaster, grant, funding, sub-grantees</td>
<td align="left">2019-05-30T04:00:00.000Z</td>
<td align="left">Federal Emergency Management Agency</td>
<td align="left">OpenFEMA</td>
<td align="left"><a href="mailto:openfema@fema.gov" class="email">openfema@fema.gov</a></td>
<td align="left">public</td>
<td align="left"><a href="https://www.fema.gov/assistance/public" class="uri">https://www.fema.gov/assistance/public</a></td>
<td align="left">1980-02-01/</td>
<td align="left">TRUE</td>
<td align="left">1</td>
<td align="left">024:70</td>
<td align="left">024:039</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Public Assistance</td>
<td align="left">true</td>
<td align="left">R/P1D</td>
<td align="left">en-US</td>
<td align="left"></td>
<td align="left">2010-01-21T05:00:00.000Z</td>
<td align="left"></td>
<td align="left">FALSE</td>
<td align="left">bd507ed0181bba91866372a0a5d3c3e4</td>
<td align="left">2021-11-09T17:36:48.359Z</td>
<td align="left">171463</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2021-11-09T17:36:48.359Z</td>
<td align="left">5dd723598ca22d24d423eb6f</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">openfema-26</td>
<td align="left">FemaWebDeclarationAreas</td>
<td align="left">FEMA Web Declaration Areas</td>
<td align="left">This data set contains general information on decl…</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.csv" class="uri">https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.csv</a></td>
<td align="left">csv</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.json" class="uri">https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.json</a></td>
<td align="left">json</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.jsona" class="uri">https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas.jsona</a></td>
<td align="left">jsona</td>
<td align="left">medium (50MB - 500MB)</td>
<td align="left"><a href="https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas" class="uri">https://www.fema.gov/api/open/v1/FemaWebDeclarationAreas</a></td>
<td align="left"><a href="https://www.fema.gov/openfema-data-page/fema-web-declaration-areas-v1" class="uri">https://www.fema.gov/openfema-data-page/fema-web-declaration-areas-v1</a></td>
<td align="left">disaster, declaration, fema website</td>
<td align="left">2019-09-26T04:00:00.000Z</td>
<td align="left">Federal Emergency Management Agency</td>
<td align="left">OpenFEMA</td>
<td align="left"><a href="mailto:openfema@fema.gov" class="email">openfema@fema.gov</a></td>
<td align="left">public</td>
<td align="left"><a href="https://www.fema.gov/disasters" class="uri">https://www.fema.gov/disasters</a></td>
<td align="left">1960-11-01/</td>
<td align="left">TRUE</td>
<td align="left">1</td>
<td align="left">024:70</td>
<td align="left">024:039</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Disaster Information</td>
<td align="left">true</td>
<td align="left">R/PT20M</td>
<td align="left">en-US</td>
<td align="left"></td>
<td align="left">NA</td>
<td align="left"></td>
<td align="left">FALSE</td>
<td align="left">89eaca0ba42130ddbd5477ed92fee30b</td>
<td align="left">2021-11-09T19:31:35.318Z</td>
<td align="left">438102</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2021-11-09T19:31:35.318Z</td>
<td align="left">5dd723598ca22d24d423eb73</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Once you have the name of the data set you want, simply pass it as an argument to the <code><a href="reference/open_fema.html">open_fema()</a></code> function which will return the data set as a data frame. By default, <code><a href="reference/open_fema.html">open_fema()</a></code> will warn you if the number of records is greater than 1000 and will ask you to confirm that you want to retrieve all of the available records (for many data sets the total records is quite large). To turn off this feature, set the parameter <code>ask_before_call</code> equal to FALSE. To limit the number of records returned, specify the <code>top_n</code> argument. This is useful for exploring a data set without retrieving all records.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">retrieved_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/open_fema.html">open_fema</a></span><span class="op">(</span>data_set <span class="op">=</span> <span class="st">"fimanfipclaims"</span>, top_n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">retrieved_data</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="4%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="3%">
<col width="1%">
<col width="3%">
<col width="0%">
<col width="3%">
<col width="3%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left">agricultureStructureIndicator</th>
<th align="left">asOfDate</th>
<th align="left">baseFloodElevation</th>
<th align="left">basementEnclosureCrawlspace</th>
<th align="left">reportedCity</th>
<th align="left">condominiumIndicator</th>
<th align="left">policyCount</th>
<th align="left">countyCode</th>
<th align="left">communityRatingSystemDiscount</th>
<th align="left">dateOfLoss</th>
<th align="left">elevatedBuildingIndicator</th>
<th align="left">elevationCertificateIndicator</th>
<th align="left">elevationDifference</th>
<th align="left">censusTract</th>
<th align="left">floodZone</th>
<th align="left">houseWorship</th>
<th align="left">latitude</th>
<th align="left">longitude</th>
<th align="left">locationOfContents</th>
<th align="left">lowestAdjacentGrade</th>
<th align="left">lowestFloorElevation</th>
<th align="left">numberOfFloorsInTheInsuredBuilding</th>
<th align="left">nonProfitIndicator</th>
<th align="left">obstructionType</th>
<th align="left">occupancyType</th>
<th align="left">originalConstructionDate</th>
<th align="left">originalNBDate</th>
<th align="left">amountPaidOnBuildingClaim</th>
<th align="left">amountPaidOnContentsClaim</th>
<th align="left">amountPaidOnIncreasedCostOfComplianceClaim</th>
<th align="left">postFIRMConstructionIndicator</th>
<th align="left">rateMethod</th>
<th align="left">smallBusinessIndicatorBuilding</th>
<th align="left">state</th>
<th align="left">totalBuildingInsuranceCoverage</th>
<th align="left">totalContentsInsuranceCoverage</th>
<th align="left">yearOfLoss</th>
<th align="left">reportedZipcode</th>
<th align="left">primaryResidence</th>
<th align="left">id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">30009</td>
<td align="left">NULL</td>
<td align="left">2011-07-12T04:00:00.000Z</td>
<td align="left">TRUE</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">30009000300</td>
<td align="left">AE</td>
<td align="left">FALSE</td>
<td align="left">45.2</td>
<td align="left">-109.2</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">FALSE</td>
<td align="left">50</td>
<td align="left">1</td>
<td align="left">1975-01-01T05:00:00.000Z</td>
<td align="left">2011-04-13T04:00:00.000Z</td>
<td align="left">593.5</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">FALSE</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">MT</td>
<td align="left">150000</td>
<td align="left">0</td>
<td align="left">2011</td>
<td align="left">59068</td>
<td align="left">TRUE</td>
<td align="left">6175bc553f4df1156c4c42d1</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">1</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">24033</td>
<td align="left">5</td>
<td align="left">2007-01-01T05:00:00.000Z</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">24033801600</td>
<td align="left">X</td>
<td align="left">FALSE</td>
<td align="left">38.8</td>
<td align="left">-77.0</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">3</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">1</td>
<td align="left">1953-01-01T05:00:00.000Z</td>
<td align="left">2006-11-15T05:00:00.000Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">FALSE</td>
<td align="left">7</td>
<td align="left">FALSE</td>
<td align="left">MD</td>
<td align="left">100000</td>
<td align="left">40000</td>
<td align="left">2007</td>
<td align="left">20745</td>
<td align="left">TRUE</td>
<td align="left">6175bc553f4df1156c4c42d0</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">2</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">29189</td>
<td align="left">NULL</td>
<td align="left">2008-09-13T04:00:00.000Z</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">29189215700</td>
<td align="left">AE</td>
<td align="left">FALSE</td>
<td align="left">38.7</td>
<td align="left">-90.3</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">1</td>
<td align="left">1957-01-01T05:00:00.000Z</td>
<td align="left">1996-02-08T05:00:00.000Z</td>
<td align="left">118224.96</td>
<td align="left">26300</td>
<td align="left">NULL</td>
<td align="left">FALSE</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">MO</td>
<td align="left">250000</td>
<td align="left">0</td>
<td align="left">2008</td>
<td align="left">63130</td>
<td align="left">TRUE</td>
<td align="left">6175bc553f4df1156c4c42d6</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">12086</td>
<td align="left">10</td>
<td align="left">1992-08-24T04:00:00.000Z</td>
<td align="left">FALSE</td>
<td align="left">3</td>
<td align="left">2</td>
<td align="left">12086008405</td>
<td align="left">AE</td>
<td align="left">FALSE</td>
<td align="left">25.7</td>
<td align="left">-80.3</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">10</td>
<td align="left">1</td>
<td align="left">1988-01-01T05:00:00.000Z</td>
<td align="left">1988-06-15T04:00:00.000Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">TRUE</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">FL</td>
<td align="left">185000</td>
<td align="left">52500</td>
<td align="left">1992</td>
<td align="left">33176</td>
<td align="left">FALSE</td>
<td align="left">6175bc553f4df1156c4c42d7</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">48201</td>
<td align="left">7</td>
<td align="left">1989-08-01T04:00:00.000Z</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">48201350400</td>
<td align="left">X</td>
<td align="left">FALSE</td>
<td align="left">29.6</td>
<td align="left">-95.2</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">3</td>
<td align="left">FALSE</td>
<td align="left">10</td>
<td align="left">1</td>
<td align="left">1974-12-31T05:00:00.000Z</td>
<td align="left">1984-12-20T05:00:00.000Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">FALSE</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">TX</td>
<td align="left">88700</td>
<td align="left">25600</td>
<td align="left">1989</td>
<td align="left">77089</td>
<td align="left">FALSE</td>
<td align="left">6175bc553f4df1156c4c42d8</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">2021-07-25T01:39:04.381Z</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">Temporarily Unavailable</td>
<td align="left">N</td>
<td align="left">1</td>
<td align="left">51810</td>
<td align="left">7</td>
<td align="left">1998-02-05T05:00:00.000Z</td>
<td align="left">FALSE</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">51810045412</td>
<td align="left">X</td>
<td align="left">FALSE</td>
<td align="left">36.7</td>
<td align="left">-75.9</td>
<td align="left">0</td>
<td align="left">NULL</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">FALSE</td>
<td align="left">10</td>
<td align="left">1</td>
<td align="left">1984-07-01T04:00:00.000Z</td>
<td align="left">1988-09-23T04:00:00.000Z</td>
<td align="left">342.57</td>
<td align="left">NULL</td>
<td align="left">NULL</td>
<td align="left">TRUE</td>
<td align="left">1</td>
<td align="left">FALSE</td>
<td align="left">VA</td>
<td align="left">185000</td>
<td align="left">60000</td>
<td align="left">1998</td>
<td align="left">23456</td>
<td align="left">TRUE</td>
<td align="left">6175bc553f4df1156c4c42d9</td>
</tr>
</tbody>
</table>
<p>There are a variety of other ways to more precisely target the data you want to retrieve by specifying how many records you want returned, specifying which columns in a data set to return, and applying filters to any of the columns in a data set. For more information and examples of use cases, see the <a href="docs/articles/getting_started.html">Getting Started</a> vignette.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dylan-turner25/rfema/">https://​github.com/​dylan-turner25/​rfema/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/dylan-turner25/rfema/issues">https://​github.com/​dylan-turner25/​rfema/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing rfema</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Dylan Turner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/000-0002-0915-7384" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/"><img src="https://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP – Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://codecov.io/gh/dylan-turner25/rfema?branch=main"><img src="https://codecov.io/gh/dylan-turner25/rfema/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Dylan Turner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
